<%# locals: (input_classes:, input_name:, input_value:, placeholder:nil, search_value:, url:)  %>
<div
  data-controller="common--dropdown"
  data-common--dropdown-fetch-url-value="<%= url %>"
  data-common--dropdown-hidden-class="hidden"
  data-common--dropdown-selected-class="bg-blue text-white focus:text-white hover:text-white focus:bg-blue-300 hover:bg-blue-300 outline-none"
>
  <div class="relative">
    <div class="relative">
      <input
        name="<%= input_name %>"
        value="<%= input_value %>"
        type="hidden"
        data-common--dropdown-target="valueInput"
        data-label="<%= search_value %>"
      >
      <input
        placeholder="<%= placeholder %>"
        data-action="
          input->common--dropdown#filter
          focus->common--dropdown#focus
          keydown.down->common--dropdown#focusNext
          keydown.enter->common--dropdown#filter:prevent
          keydown.esc->common--dropdown#close
        "
        data-common--dropdown-target="searchInput"
        autocomplete="false"
        class="grid w-full cursor-default grid-cols-1 pr-2 rounded-md border-0 py-1.5 text-gray-900 shadow-sm outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-300 focus:outline-1 focus:-outline-offset-1 focus:outline-blue-300 sm:text-xs/6 sm:leading-6 <%= input_classes %>"
        role="combobox"
        type="text"
        aria-expanded="true"
        aria-autocomplete="list"
        value="<%= search_value %>"
      >
      <button
        class="group absolute inset-y-0 right-0 px-2.5"
        type="button"
        tabindex="-1"
        aria-haspopup="listbox"
        aria-expanded="true"
        data-common--dropdown-target="button"
      >
        <%= heroicon("chevron-down", options: { class: "size-4 fill-black/60 group-hover:fill-black" } ) %>
      </button>
    </div>
    <ul
      class="absolute z-10 mt-1 max-h-60 w-full overflow-auto min-h-9 rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm hidden"
      tabindex="-1"
      role="listbox"
      aria-labelledby="listbox-label"
      data-common--dropdown-target="menu"
    >

    </ul>
  </div>

  <template data-common--dropdown-target="itemTemplate">
    <li
      class="relative cursor-pointer select-none py-1.5 pl-3 pr-9 text-xs text-gray-900 hover:bg-light-gray-100 focus:outline-none focus:bg-light-blue-300"
      role="option"
      tabindex="0"
      data-action="
        click->common--dropdown#select
        keydown.down->common--dropdown#focusNext:prevent
        keydown.up->common--dropdown#focusPrevious:prevent
        keydown.enter->common--dropdown#select:prevent
        keydown->common--dropdown#searchMore
      "
      data-common--dropdown-target="item"
      data-value="ITEM_VALUE"
      data-label="ITEM_LABEL"
    >ITEM_LABEL</li>
  </template>
</div>
